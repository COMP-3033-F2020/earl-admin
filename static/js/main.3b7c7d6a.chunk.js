(this["webpackJsonpearl-admin"]=this["webpackJsonpearl-admin"]||[]).push([[0],{61:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),s=n(24),j=n.n(s),i=n(8),l=n(6),d=(n(60),n(61),n(10)),h=n(99),o=n(97),b=n(33),u=n(98),O=function(){var e=Object(u.a)(),t=Object(d.a)(e,3),n=(t[0],t[1],t[2]),r=Object(l.k)();return Object(c.jsx)("header",{children:Object(c.jsxs)(h.a,{className:"justify-content-between",children:[Object(c.jsx)(h.a.Brand,{href:"#",children:"Earl Admin"}),Object(c.jsx)(h.a.Toggle,{"aria-controls":"earl-navbar"}),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(h.a.Collapse,{id:"earl-navbar",children:Object(c.jsxs)(o.a,{children:[Object(c.jsx)(b.LinkContainer,{to:"/",children:Object(c.jsx)(o.a.Link,{children:"Home"})}),Object(c.jsx)(b.LinkContainer,{to:"/earls",children:Object(c.jsx)(o.a.Link,{children:"EARLS"})}),Object(c.jsx)(b.LinkContainer,{to:"/users",children:Object(c.jsx)(o.a.Link,{children:"Users"})})]})}),Object(c.jsx)(o.a,{children:Object(c.jsx)(o.a.Link,{onClick:function(){n("jwt"),r.push("/login")},children:"Logout"})})]})]})})},x=function(){var e=Object(l.m)().userId;return Object(c.jsxs)("div",{children:["Display user with ID: ",e]})},p=function(){var e=Object(l.n)();return console.log(e),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Users"}),Object(c.jsxs)(l.g,{children:[Object(c.jsx)(l.d,{path:"".concat(e.path,"/:userId"),children:Object(c.jsx)(x,{})}),Object(c.jsxs)(l.d,{path:e.path,children:[Object(c.jsx)("h3",{children:"Select a user"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)(i.Link,{to:"".concat(e.path,"/1"),children:"User 1"})}),Object(c.jsx)("li",{children:Object(c.jsx)(i.Link,{to:"".concat(e.path,"/2"),children:"User 2"})}),Object(c.jsx)("li",{children:Object(c.jsx)(i.Link,{to:"".concat(e.path,"/3"),children:"User 3"})})]})]})]})]})},f=n(14),v=n.n(f),g=n(20),m=n(28),k=n.n(m),L="https://earls-api.herokuapp.com",w=function(){var e=Object(g.a)(v.a.mark((function e(t,n){var c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("".concat(L,"/login"),{identity:t,password:n});case 3:return c=e.sent,r=c.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(L,"/earls"),{withCredentials:!0});case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(L,"/earls/").concat(t));case 2:return n=e.sent,c=n.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(L,"/earls"),{target:t});case 2:return n=e.sent,c=n.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=n(92),D=function(e){var t=Object(l.n)();return e.earls&&0!==e.earls.length?Object(c.jsx)("div",{children:Object(c.jsxs)(I.a,{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Target"}),Object(c.jsx)("th",{children:"Short Code"}),Object(c.jsx)("th",{children:"Created Date"}),Object(c.jsx)("th",{children:"Last Updated"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:e.earls.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.target}),Object(c.jsx)("td",{children:e.shortCode}),Object(c.jsx)("td",{children:e.createdAt}),Object(c.jsx)("td",{children:e.updatedAt}),Object(c.jsx)("td",{children:Object(c.jsx)(i.Link,{to:"".concat(t.path,"/").concat(e._id),children:"Details"})})]},e._id)}))})]})}):Object(c.jsx)("div",{children:"No Earls to display"})},T=function(e){var t=Object(l.m)().earlId,n=Object(r.useState)(null),a=Object(d.a)(n,2),s=a[0],j=a[1];return s||y(t).then((function(e){j(e)})),s?Object(c.jsxs)("div",{children:["Details for: ",s.target]}):null},U=n(96),E=n(93),A=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(null),j=Object(d.a)(s,2),i=j[0],l=j[1];return Object(c.jsxs)("div",{children:[i?Object(c.jsx)("p",{children:i}):null,Object(c.jsxs)(U.a,{onSubmit:function(e){e.preventDefault(),""!==n&&S(n).then((function(e){l("Created EARL for ".concat(n)),a(""),setTimeout((function(){l(null)}),3e3)}))},children:[Object(c.jsxs)(U.a.Group,{controlId:"targetUrl",children:[Object(c.jsx)(U.a.Label,{children:"Target URL"}),Object(c.jsx)(U.a.Control,{type:"text",placeholder:"https://example.com",value:n,onChange:function(e){a(e.target.value)}}),Object(c.jsx)(U.a.Text,{children:"Description of the field"})]}),Object(c.jsx)(E.a,{type:"submit",children:"Submit"})]})]})},F=function(){var e=Object(u.a)(),t=Object(d.a)(e,1)[0],n=Object(l.n)(),a=Object(r.useState)([]),s=Object(d.a)(a,2),j=s[0],h=s[1],o=Object(l.k)();return t.jwt?(0===j.length&&C().then((function(e){h(e)})),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Earls"}),Object(c.jsx)(i.Link,{to:"/earls/create",children:"Create EARL"}),Object(c.jsxs)(l.g,{children:[Object(c.jsx)(l.d,{path:"".concat(n.path,"/create"),children:Object(c.jsx)(A,{})}),Object(c.jsx)(l.d,{path:"".concat(n.path,"/:earlId"),children:Object(c.jsx)(T,{})}),Object(c.jsx)(l.d,{path:n.path,children:Object(c.jsx)(D,{earls:j})})]})]})):(o.push("/login"),null)},R=n(94),B=n(95),N=n(54),G=n(101),H=n(100),P=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),j=Object(d.a)(s,2),i=j[0],h=j[1],o=Object(r.useState)(""),b=Object(d.a)(o,2),O=b[0],x=b[1],p=Object(u.a)(),f=Object(d.a)(p,2),m=(f[0],f[1]),k=Object(l.k)(),L=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a(null),e.next=4,w(i,O);case 4:n=e.sent,(c=n.accessToken)?(m("jwt",c),k.push("/earls")):(a("Invalid login details"),h(""),x(""));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(R.a,{children:Object(c.jsx)(B.a,{className:"justify-content-center",children:Object(c.jsx)(N.a,{md:5,children:Object(c.jsx)(G.a,{children:Object(c.jsxs)(G.a.Body,{children:[Object(c.jsx)(G.a.Title,{children:"Login"}),n?Object(c.jsx)(H.a,{variant:"danger",children:n}):null,Object(c.jsxs)(U.a,{onSubmit:L,children:[Object(c.jsxs)(U.a.Group,{controlId:"identity",children:[Object(c.jsx)(U.a.Label,{children:"Username or Email"}),Object(c.jsx)(U.a.Control,{type:"text",value:i,onChange:function(e){return h(e.target.value)}})]}),Object(c.jsxs)(U.a.Group,{children:[Object(c.jsx)(U.a.Label,{children:"Password"}),Object(c.jsx)(U.a.Control,{type:"password",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(c.jsx)(E.a,{type:"submit",disabled:0===i.length||0===O.length,children:"Login"})]})]})})})})})};var J=function(){return Object(c.jsx)(i.HashRouter,{children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(O,{}),Object(c.jsx)("main",{children:Object(c.jsxs)(l.g,{children:[Object(c.jsx)(l.d,{path:"/login",children:Object(c.jsx)(P,{})}),Object(c.jsx)(l.d,{path:"/users",children:Object(c.jsx)(p,{})}),Object(c.jsx)(l.d,{path:"/earls",children:Object(c.jsx)(F,{})}),Object(c.jsx)(l.d,{path:"/",children:Object(c.jsx)("div",{children:"Home"})})]})})]})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,102)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};j.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(J,{})}),document.getElementById("root")),_()}},[[90,1,2]]]);
//# sourceMappingURL=main.3b7c7d6a.chunk.js.map